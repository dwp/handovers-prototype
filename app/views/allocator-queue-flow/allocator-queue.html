{% extends "layout.html" %}
{% block content %}
{% include "includes/handovers_summary_nav.1.html" %}
<main id="content" role="main">
    <div class="main-content">
        {% include "includes/error-summary.html" %}
        {% include "includes/message-banner.html" %}
            <h1 class="heading-large">
            <span class="heading-secondary">Sheffield Benefit Centre</span>
              Handovers queue</h1>

        <div class="grid-row">
            <div class="column-full">
                <table>
                    <thead>
                        <tr>
                            <th scope="col"><span>Description</span></th>
                            <th scope="col"><span>Name & NINO</span></th>
                            <th scope="col"><span>Date/time raised</span></th>
                            <th scope="col"><span>Agent</span></th>
                            <th scope="col"><span>Time left to clear</span></th>
                            <th></th>
                            <th scope="col"><span>Handover type</span></th>
                            <th scope="col"><span>Handover Status</span></th>
                            <th scope="col"><span>Callback status</span></th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>

                    <tr role="row">
                        <td>
                                          <p>
                                                Initial information input when the handover was created
                                          </p>

                        </td>
                        <td><p class="font-small">Adam Brown<br><span class="form-hint">AA123456B</span></p></td>
                        <td><p class="font-small">27 February 2018<br><span class="form-hint"> 8:01</span></p></td>
                        <td><p class="font-small"><a href="/allocator-queue-flow/agent-queue.html">Imogen Johnson</a><span class="badge">NOT AVAILABLE</span> <span class="badge badge-info"> 2 <span> </p></td>
                        <td><p class="font-small">Expired<br><span class="badge badge-danger">ESCALATED</span></p></td>
                        <td><p class="hidden">1</p></td>
                        <td><p class="font-small">Claim closure</p></td>
                        <td><p class="font-small">Paused</p></td>
                        <td><p class="font-small">First call pending</p></td>
                        <td>
                        <p class="font-small"><a href="/allocator-queue-flow/allocator-edit">Update</a></p>
                        </td>
                    </tr>
                    <tr role="row">
                            <td>


                                              <p>
                                                    Initial information input when the handover was created
                                              </p>

                            </td>
                        <td><p class="font-small">Ian Jackson<br><span class="form-hint">AA345678B</span></p></td>
                        <td><p class="font-small">27 February 2018 <span class="form-hint">13:08</span></p></td>
                        <td><p class="font-small"><a href="queue/view?agentId=40001003">Grant Hopper</a> <span class="badge badge-info"> 3 <span></p></td>
                        <td><p class="font-small">1 hr 10 mins<br><span class="badge badge-danger">ESCALATED</span></p></p></td>
                        <td><p class="hidden">7</p></td>
                        <td><p class="font-small">Claim closure</p></td>
                        <td><p class="font-small">In progress</p></td>
                        <td><p class="font-small">Not requested</p></td>
                        <td>
                                <p class="font-small"><a href="/handover/edit?id=8">Update</a></p>
                        </td>
                    </tr>
                    <tr role="row">
                            <td>
                                      <p>
                                            Initial information input when the handover was created
                                      </p>
                              </td>
                        <td><p class="font-small">Grace Harris<br><span class="form-hint">ZZ234567A</span></p></td>
                        <td><p class="font-small">27 February 2018 <span class="form-hint">13:06</span></p></td>
                        <td><p class="font-small"><p class="font-small"><a href="queue/view?agentId=40001003">Imogen Johnson</a><span class="badge">NOT AVAILABLE</span> <span class="badge badge-info"> 2 <span> </p></p></td>
                        <td><p class="font-small">58mins</p></td>
                        <td><p class="hidden">7</p></td>
                        <td><p class="font-small"></p>New Claim</p></td>
                        <td><p class="font-small"><p>Not allocated</p></td>
                        <td><p class="font-small">First call pending</p></td>
                        <td>
                                <p class="font-small"><a href="/handover/edit?id=8">Update</a></p>
                        </td>
                    </tr>
                    <tr role="row">
                            <td>

                                              <p>
                                                    Initial information input when the handover was created
                                              </p>

                            </td>
                            <td><p class="font-small">Christine Dixon	</a><br><span class="form-hint"> ZZ123456A</span></p></td>
                            <td><p class="font-small">27 January 2018<span class="form-hint">11:09</span></p></td>
                            <td><p class="font-small">Not applicable</p></td>
                            <td><p class="font-small">1hr 38mins</p></td>
                            <td><p class="hidden">7</p></td>
                            <td><p class="font-small"></p>Appointment confirmation</p></td>
                            <td><p class="font-small">Not allocated</p></td>
                            <td><p class="font-small">Not requested</p></td>
                            <td>
                                    <p class="font-small"><a href="/handover/edit?id=8">Update</a></p>
                            </td>
                        </tr>
                        <tr role="row">
                                <td>

                                          <p>
                                                Initial information input when the handover was created
                                          </p>

                                </td>
                                <td><p class="font-small">Ian Jackson<br><span class="form-hint">AA345678B</span></p></td>
                                <td><p class="font-small">27 February<span class="form-hint">11:07</span></p></td>
                                <td><p class="font-small"><a href="queue/view?agentId=40001003">Grant Hopper</a> <span class="badge badge-info"> 3 <span></p></td>
                                <td><p class="font-small">1hr 59mins</p></td>
                                <td><p class="hidden">7</p></td>
                                <td><p class="font-small"></p>Hardship</p></td>
                                <td><p class="font-small">In progress</p></td>
                                <td><p class="font-small">Not requested</p></td>
                                <td>
                                        <p class="font-small"><a href="/handover/edit?id=8">Update</a></p>
                                </td>
                            </tr>
                            <tr role="row">
                                    <td>

                                                      <p>
                                                            Initial information input when the handover was created
                                                      </p>

                                    </td>
                                    <td><p class="font-small">Christine Dixon<br><span class="form-hint">ZZ123456A</span></p></td>
                                    <td><p class="font-small">27 February 2018<span class="form-hint">11:03</span></p></td>
                                    <td><p class="font-small"><a href="queue/view?agentId=40001003">Kevin Lambeth</a> <span class="badge badge-info"> 2 <span></p></td>
                                    <td><p class="font-small">2hr 10mins</p></td>
                                    <td><p class="hidden">7</p></td>
                                    <td><p class="font-small"></p>Missing evidence</p></td>
                                    <td><p class="font-small">In progress</p></td>
                                    <td><p class="font-small">Second call pending</p></td>
                                    <td>
                                            <p class="font-small"><a href="/handover/edit?id=8">Update</a></p>
                                    </td>
                                </tr>
                   </tbody>
                </table>
            </div>
        </div>
    <!--    <table>
                <thead>
                    <tr>
                        <th scope="col"><span>Description</span></th>
                        <th scope="col"><span>Name & NINO</span></th>
                        <th scope="col"><span>Date/time raised</span></th>
                        <th scope="col"><span>Agent</span></th>
                        <th scope="col"><span>Time left to clear</span></th>
                        <th></th>
                        <th scope="col"><span>Handover type</span></th>
                        <th scope="col"><span>Handover Status</span></th>
                        <th scope="col"><span>Callback status</span></th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody>
  {% include "includes/test.html" %}
</tbody>
</table> -->
</main>

<script src="/public/javascripts/vendor/jquery-1.11.3.js"></script>
<script src="/public/javascripts/vendor/datatables.min.js"></script>

<script>
    $('table').DataTable({
        paging: false,
        info: false,
        filter: false,
        order: [[ 5, "asc" ]]
    })
</script>

{% endblock %}

{% macro handoverUpdateLink(handover) %}
{% set queryString = '?id=' + handover.id %}
<a href="/handover/edit{{queryString}}">Update</a>
{% endmacro %}


{% macro tableRow(description, customerName, nino, customerSummaryLink, date, time, agentName, agentQueueLink, timeToClear, handoverType, handoverStatus, callbackStatus) %}


<tr role="row">
        <td>
            <details>
                <summary><span class="summary">Handover description</span></summary>
                <div class="panel panel-border-narrow">
                  <p>
                       {{ description }}
                  </p>
                </div>
         </details>
        </td>
        <td><p class="font-small"><p><a href="{{ customerSummaryLink }}">{{ customerName }}</a><br><span class="form-hint">{{ nino }}</span></p></td>
        <td><p class="font-small"><p>{{ date }}<span class="form-hint">{{time}}</span></p></td>
        <td><p class="font-small"><p><a href="{{ agentQueueLink }}">{{ agentName }}
          {% if agentName == "john smith" %}
            <br><span class="badge">NOT AVAILABLE</span>
          {% endif %}</a></p></td>
        <td><p class="font-small"><p>{{ timeToClear }}</p></td>
        <td><p class="hidden"><p>7</p></td>
        <td><p class="font-small"><p>{{ handoverType }}</p></td>
        <td><p class="font-small"><p>{{ handoverStatus }}</p></td>
        <td><p class="font-small"><p>{{ callbackStatus }}</p></td>
        <td>
                <p class="font-small"><a href="/handover/edit?id=8">Update</a></p>
        </td>
    </tr>
{% endmacro %}
